@page "/"

@using Microsoft.AspNetCore.Components.Authorization

@inject AuthenticationStateProvider AuthStateProvider
@inject NavigationManager Nav

<PageTitle>Home</PageTitle>

<h1>Hello!</h1>

Welcome to the Todo App. Please click on the Todo in the Navigation Menu to access the functionalities.

@code {
    protected override async Task OnInitializedAsync()
    {
        var authState = await AuthStateProvider.GetAuthenticationStateAsync();
        var user = authState.User;

        if(!user.Identity.IsAuthenticated)
        {
            Nav.NavigateTo("/login", true);
        }
    }
}
